Changelog
2005-06-12:
    - no new audio frame has been decoded when audio_size <= 0 
       (reported by Antonio O.)
    - introduce fast_memcpy (gives 20-30% speed increase on copying)
    - switch xv-out to fast_memcpy
    - enable fast and default deblock postprocessing
    - make buffersizes choosable
2005-06-06:
    - fixed latest ffmpeg cvs compile issue
    - applied fix for noisy audio on some soundcards (by Antonio O.)
    - applied GetDeviceDescription() patch for video-dfb.c (by Lucian Muresan)
2005-06-05:
    - compile by default with "-g"
    - fix vidix segfault
2005-05-29:
    - changed screen aspect ratio selection (based on suggestion by Nicolas Huillard)
    - fix some segfaults on bad signal
    - fix possible segfault when called without arguments 
      (thanks to Marko Mäkelä)
    - buffering is now complety signal triggered
    - made buffersizes variable 
2005-05-22: softdevice-0.1.2
2005-05-20:
    - fix possible segfault in fb-mode when resolution is smaller than
      OSD default size
    - fix pplib deinterlacing
    - check libavcodec build of library against header
    - some more error messages 
2005-05-18:
    - fix for aspect ratio calculation if sample_aspect_ratio.num == 0
    - README update for use of -L DIR usage
2005-05-17:
    - bugfix: don't blank screen in pause mode
2005-05-16:
    - blank screen after some time with no signal
2005-05-15:
    - offer selection of 14:9 mode
2005-05-08:
    - fix for pause-play transition of softplay, does improve same transiton
      of normal vdr recording playback too.
2005-05-06:
    - video-dfb: disabled deinterlacing option of dfb.
2005-05-01:
    - audio-out: some other preparations for ac3
                 selectiv set #channels to 2, to get 2ch downmix of 5.1
                 mute current mixer if volume is set to 0 and unmute if vol != 0
                 changed dsyslod to esyslog is case we exit()
    - syncing: switched to a sync timer which can be controlled by current
               selected output method
2005-04-30:
    - some preparations for ac3 out selection
    - xv-out & dfb-out: catch userX keys and map one of them to crop mode selection
2005-04-23:
    - dfb-out: commented out use of DFBCardCapabilities required for current DirectFB cvs.
2005-04-10:
    - dfb-out: triple buffering for mgatv,
               corrected x/y coordinates for OSD drawing (fix for subtitles plugin)
    - README: added contributor names mentioned in CHANGELOG
              added hint from Makefile about installing ffmpeg
2005-04-10: softdevice-0.1.1
    - xv-out: add "-vo xv:full" option to start up in fullsceen mode
    - dfb-out: added dfb version check for struct access
    - replace unneeded usleep<10000usec with >=10000usec
    - add SIG_TIMING option (default: disabled, enable in mpeg2decoder.c)
    - introduce meaningful return values in packet mode. 
    - disable debugging output.
2005-04-09:
    - xv-out: new command line option max-area to use the maximum
              available area for decoded frames. " .. -vo xv:max-area .. "
2005-04-02:
    - video.c: fix possible segfault if pan_scan info is not present
2005-03-28:
    - dfb-out: chg. OSD drawing to update only modified areas.
               chg. videolayer to double buffered.
               report surface capabilities in a single line
2005-03-25:
    - respect replay mode
    - disable WaitForSync in video only mode (trickspeed mode)
    - removed unused code
2005-03-20:
    - video.c, Draw(): set rgb to zero (colorkey) if alpha is zero.
    - preperations for sync on video option
    - syncronize audio and video start
    - all pts values now in units of 0.1ms (needed for 44.1kHz audio streams)
    - add SpuDecoder
2005-03-19:
    - fix compile problems for vdr-1.2.x (OSD ok, but _no_ A/V :-( ).
2005-03-17:
    - add left/right channel only support
    - be more precise in GetSTC
    - use libavformat for PES stream parsing
2005-03-15:
    - get cvs version of dvd-plugin work in _non_ ac3 mode
 2005-03-11:
    - xv-out: fix OSD misplacement in downscaleing mode (pseudo mode)
    - fix OSD misplacement for software alpha when in crop mode (info menu)
 2005-03-10:
    - xv-out: support max available area (pre for hdtv spport)
    - audio-out: new dummy device (-ao dummy:)
                 audio device constructor gets pointer to setup-store like video-out
    - save options when called via main menu
 2005-03-08: softdevice-0.1.0
 2005-03-05:
    - mpeg2decoder: fix to initialize ppmode if pp based deinterlace selected
    - audio-out: fix audio stream selection
 2005-03-04: 0.1.0pre1
    - some i18n changes
 2005-03-03:
    - fb-out: fix for build option USE_SUBPLUGINS
              fix alpha mask misplacement
              fix locking during video and OSD drawing
 2005-03-02:
    - increased osd fallback timeout
    - removed syoff and sxoff from Draw(...) 
 2005-02-27:
    - save "vo" and "ao" calling args in setup store.
    - new runtime arg "-L path_name". Default set in Makefile to: "./PLUGINS/lib"
    - USE_SUBPLUGINS is now default build option
    - dfb-out: fix for segfault on via unichrome with current DirectFB cvs.
 2005-02-25:
    - vidix-out: fix segfaults upon switch from software OSD back to pseudo mode.
                 match available fourcc against selected.
                 support for YUY2 added (without soft alpha [todo]).
    - all-out: unified constuctor parameter
               optionaly output method is loaded at runtime. by this, one can
               build and ship binaries with all methods enabled to target
               enviroments where not all libs are present.
    - removed obsolete OSD option "sync on" (I-frame/all frames).
 2005-02-18:
    - support for DIRECTCOLOR framebuffer ( most ATI cards, tested with Mach64)
    - fixed osd flickering in framebuffer mode vdr>1.3.7
    - software alpha blending implemented for Vidix (vdr>1.3.7)
    - software alpha blending done in software for Xv out and vdr>1.3.7
    - osd scaling for vdr and Xv >1.3.7
 2005-02-13:
    - a/v sync: auto adjusting back index instead of using fixed value 4
 2005-02-08:
    - dfb-out: fix for field parity in tv-out mode
    - xv-out: fix compile warnings on amd64 (reported by Konrad Naumann)
 2005-01-23:
    - added suspend video playback patch. 
 2005-01-15:
    - fix OSD drawing when multiple areas are used (with text2skin plugin)
    - dfb out: reverted top-field first setting as it may crash
    - removed some unused code
    - subtract already spend time from delay before entering delay loop
      (found by Stefan Lucke)
    - audio pts calculation changed to use sample rate and number of channels
 2005-01-13:
    - compatibility fix for vdr-1.3.18
    - aspect ratio handling for 16:9 TV output
    - dfb-out TVout: set top field first and acpect scaleing for TV mode if not set
  2005-01-12:
    - fix aspect ratio calculation/recognition on some dvds
  2005-01-04: softdevice-0.0.8
  2005-01-02:
    -dfb-out: override pixelformat when mgatv is specified.
  2005-01-01:
   - dfb-out: fix for dfb-0.9.20 and 0.9.21 matrox crtc2 layer names
              fix for OSD not shown with vdr-1.2.x
  2004-12-31:
   - xv-out: Fix for our bug #2972. Black color key is
             now back to value 0x00000000. Savage card users have to
             file bug reports at X11 developers if their OSD is not shown
             or change colorkey setting to value 0x01000000 in file
             video-xv.c in call of "attributeStore.SetColorkey(0x00000000);" .
  2004-12-30:
   - xv-out: compile fix for gcc 3.4.3
             fix for vdr-1.2.x "_ZN9cVideoOut8OSDStartEv"
  2004-12-21: softdevice-0.0.8pre1
   - directFB:
      - some basic support for mga tv-out with directFB- this is selectable
        via option -vo dfb:mgatv .
      - VIA Unichrome handling added. works with recent cvs version of DFB
  2004-12-12:
   - Added reporting of AC3 stream info (with help from plugin femon).
   - Changed A/V sync point by 4 frames. Sync is now ok for streams with PTS
     value for each frame and for streams with PTS values for I-Frames only.
     Thus OSD option "A/V Sync" is obsolete.
  2004-11-14:
   - new A-V sync with linux RTC support
   - changed audio buffering 
   - implemented serveral missing cDevice methods:
     TrickSpeed(),Clear(),Freeze()...
   - process smaller packets at one time to improve
     the response time
   - sleep in Poll if buffer is full
  2004-11-04: softdevice-0.0.7
   - audio-out: don't exit when we get EINTR upon write
  2004-10-30: softdevice-0.0.7pre4 
  2004-10-29:
   - xv-out: changed fullscreen mode. works now with more wms (bug: #2265)
   - xv-out: fix possible race condition causing segfault during init (bug: #2699)
   - allow setting alsa device with command line parameter or in setup.conf
  2004-10-25:
   - compile fix for older vdr versions. tested with 1.2.1 .
   - bumped level to 0.0.7pre3 .
   - fix compile issues with X11 dpms headers. they are not usable for
     C++ code. see: http://freedesktop.org/bugzilla/show_bug.cgi?id=830 .
  2004-10-24:
   - fix for DFB-out OSD not shown while paused in YUY2 mode (bug: #002266)
  2004-10-23:
   - some fixes upon deinterlacing selection (bug: #002267)
   - added pseudo alpha OSD background upon an idea of Torgeir Veimo
  2004-10-18:
   - xv-out: allow disabling screensaver when in full screen mode (Torgeir Veimo)
   - mpeg2decoder: enable adjustable audio / video offset (Torgeir Veimo)
   - DFB: fix compare DFXL_NONE using equals (Torgeir Veimo)
  2004-08-09:
   - DFB+vidix: fix wrong colors in crop mode
   - fix: segfaults during decoding
  2004-08-08:
    - DFB: fix calling sequence to avoid sig 6
    - xv-out: added fullscreen patch (Torgeir Veimo)
              toggle is done via pressing 'f'
              (works at the moment _only_ with gnome window manager)
  2004-08-01:
    - fix: syncOnFrames not stored (Torgeir Veimo)
    - fix: audio - some cards don't have any master volume (Torgeir Veimo)
  2004-07-25: softdevice-0.0.7pre2
    - Use of additional deinterlace methods of ffmpeg. This may require
      recompilation of ffmpeg (see hints in Makefile) (Thanks to Herbert Attenberger)
    - New OSD option for A/V sync selection. This is related to sync change
      from 2004-06-02. Normal sync is to get the sync pts from I-Frames only.
      To sync on any PTS you have to change this (DVB-T fix).
    - DFB: changed remote react on keypress instead of release
    - DFB: when selecting YUY2 mode you'll get an alpha blende OSD (at least
           with Matrox cards).
  2004-07-23:
    - xv-out: while mouse in window, auto hide cursor (thanks to Torgeir Veimo)
  2004-07-18:
    - moved ffmpeg version and build level report
    - setup-OSD does not depend on XV_SUPPORT
  2004-07-12:
    - fix: DFB cropping for 16:9 mode
    - OSD: softdevice menu now reachable via main menu entry
           menu behaves different to others: changes are active immediate,
           ok-key makes them permanent, back-key restores previous state.
  2004-07-11 :
    - fix: compile problem when only one output method (DFB) is selected
    - DFB + vidix: selectable pixel format I420, YV12 via OSD
    - OSD: offer only those menu items which are useful for current output method
    - OSD: changed text from "Xv-Aspect" to "Xv startup aspect" and use "16:9 wide"
           and "4:3 normal" strings for selection instead of 0, 1 values
  2004-07-10 : softdevice-0.0.7pre1
    - use of ffmpegs deinterlacer, selectable via OSD. Thanks to Herbert Attenberger
    - DFB out added aspect ratio and AFD handling
    - activate cropping support, selectable via OSD (xv-out + vidix-out + dfb-out)
  2004-07-09 : softdevice-0.0.6post3
    - DFB out set display layer configuration according to reported capabilities
    - DFB out use only first available video layer
  2004-06-28 :
    - DFB out changed COLORKEY to 0,0,0 to get transparent OSD with matrox
    - DFB out has it's own remote
    - DFB out only set videolayer if it is NOT set previously
  2004-06-02 : softdevice-0.0.6post2
             - added some addtional libs for ffmpeg which may be required
             - changed VIDIX out to probe for driver
             - fix for syncing on some DVB-T streams
  2004-05-30 - fix xv video refresh for MapNotify event
  2004-05-24 - added aspect ratio handling for VIDIX out
  2004-05-23 - added help text for commandline help

  2004-05-22 : softdevice-0.0.6
    - fix compilation for LIBAVCODEC_BUILD <= 4686 (thanks to Luca Olivetti)
    - again fix savage colour key
    - revert OSD centering for FB + VIDIX out
      (it's a feature of vdr-1.3.7, OSD position is adjustable via OSD)

  2004-05-20 : softdevice-0.0.6pre3
    - fb output is now running with vdr-1.3.7 too
    - merged softdevice-0.0.5-fb-patch01
      (its intentionaly in the vdr-1.2.x section only)
    - fix OSD positioning fb-out + vidix-out for vdr-1.3.7

  2004-05-20 : softdevice-0.0.6pre2
    - xv output now works with vdr-1.3.7 too
    
  2004-05-19 : softdevice-0.0.6pre1
    - audio.c: dropped round() call
    - (f)printf() replaced by dsyslog()
        audio.c video-xv.c video.c
    - merged Vadim's
        vdr-softdevice-0.0.5-xv08.patch and
        vdr-softdevice-0.0.5-xv08-2.patch

  2004-04-xx : patch08
    - checked vidix method too. I had to select I420 instead of YV12 ;;-).
      (With YV12 I got swaped color components. Vidix driver reports only
      16 of my 32M G550 ;-) ).

  2004-04-28 : patch07-02
    - fix: xv-color key for savage (workaround of X driver bug)
    - fix: compile problems with non CVS version of ffmpeg
    - new: xv: hack to control some atom values via keyboard.
               This bypasses VDR remote key control :-( .
               c/C  - contrast -/+
               h/H  - hue -/+
               b/B  - brightness -/+
               s/S  - saturation -/+
    - new: all output methods can be compiled in.
           method selectable at runtime via:
              '-vo xv:' or
              '-vo fb:' or
              '-vo dfb:' or
              '-vo vidix:'
           if there is only one method specified at compile time via Makefile
           this parameter is not required (tested only with xv and fb).

  2004-04-16 : xv output patch07
    - fix: force CheckAspect upon dimension change (since patch06)
    - report PAN/SCAN info if present

  2004-04-16 : xv output patch06
    - implemented StillPicture method
    - clean up some messages
    - AFD tag support

  2004-03-07 : xv output patch05
    - fixed rounding error for 16:9 output area (height 575 instead of 576).
    - OSD opaque black color translated to a different dark value so that it
      is different from the COLORKEY and no longer transparent.
    - xv output has now a commandline argument:
        -vo xv:aspect=[wide|normal]
        examples:
        ./vdr -P streamdev -P 'softdevice -vo xv:aspect=wide'
        ./vdr -P streamdev -P 'softdevice -vo xv:aspect=normal'
    - OSD not shown (for new users) during remote teaching phase
      (introduced by patch03).
    - changed last paramter of X..ShmPut..() to False and replaced XFlush()
      by XSync() (according to vlc this should save CPU time).
    - added volume control.
